<header class="sheet-header">
  <img class="profile-img" src="{{actor.img}}" data-action="onEditImage" data-edit="img" title="{{actor.name}}" height="100" width="100"/>
  <div class="header-fields">
    <div class="char-header flexrow">
      <h1 class="char-name"><input name="name" type="text" class="item-name-input" value="{{actor.name}}" placeholder="Name"/></h1>
      <h1 class="species-container">
        <input disabled class="species-input" name="species" placeholder="Species" type="text" value="{{system.species.name}}"/>
        {{#unless system.species.name}}
          <i data-action="selectSpecies" class="fa-solid fa-magnifying-glass species"></i>
        {{/unless}}
      </h1>
      {{!-- <div class="edit-slider">
        <label for="overrideDerivedData">{{localize "UTOPIA.Actor.overrideDerivedData"}}</label>
        <label class="switch" for="overrideDerivedData">
          <input type="checkbox" id="overrideDerivedData" name="overrideDerivedData" {{#if (eq overrideDerivedData true)}} checked {{/if}} />
          <div class="slider round"></div>
        </label>
      </div> --}}
    </div>
    <div class="resources">

      <div class="new-resource">
        <div class="resource-context">
          <div class="add-buttons">
            <button type="button" data-action="addToStat" data-stat="system.shp.value" data-value="1">+1</button>
            <button type="button" data-action="addToStat" data-stat="system.shp.value" data-value="5">+5</button>
            <button type="button" data-action="addToStat" data-stat="system.shp.value" data-value="20">+20</button>
            <button type="button" data-action="maxStat" data-stat="system.shp.value" data-value="system.shp.max">Max</button>
          </div>
          <div class="subtract-buttons">
            <button type="button" data-action="subtractFromStat" data-stat="system.shp.value" data-value="1">-1</button>
            <button type="button" data-action="subtractFromStat" data-stat="system.shp.value" data-value="5">-5</button>
            <button type="button" data-action="subtractFromStat" data-stat="system.shp.value" data-value="20">-20</button>
            <button type="button" data-action="minStat" data-stat="system.shp.value" data-value="0">Min</button>
          </div>
        </div>
        <label class="new-resource-container" data-tooltip="{{localize 'UTOPIA.Actor.Stats.shpLong'}}">
          {{formInput systemFields.shp.fields.value value=system.shp.value name="system.shp.value" localize=true}}
          {{#if (eq type 'npc')}}
            {{formInput systemFields.shp.fields.max value=system.shp.max name="system.shp.max" localize=true}}
          {{else}}
            <span class="new-resource-max">{{system.shp.max}}</span>
          {{/if}}
          <span class="new-resource-label">{{localize 'UTOPIA.Actor.Stats.shpShort'}}</span>
        </label>
      </div>

      <div class="new-resource">
        <label class="new-resource-container" data-tooltip="{{localize 'UTOPIA.Actor.Stats.dhpLong'}}">
          {{formInput systemFields.dhp.fields.value value=system.dhp.value name="system.dhp.value" localize=true}}
          {{#if (eq type 'npc')}}
            {{formInput systemFields.dhp.fields.max value=system.dhp.max name="system.dhp.max" localize=true}}
          {{else}}
            <span class="new-resource-max">{{system.dhp.max}}</span>
          {{/if}}
          <span class="new-resource-label">{{localize 'UTOPIA.Actor.Stats.dhpShort'}}</span>
        </label>
      </div>

      <div class="new-resource">
        <label class="new-resource-container" data-tooltip="{{localize 'UTOPIA.Actor.Stats.staLong'}}">
          {{formInput systemFields.stamina.fields.value value=system.stamina.value name="system.stamina.value" localize=true}}
          {{#if (eq type 'npc')}}
            {{formInput systemFields.stamina.fields.max value=system.stamina.max name="system.stamina.max" localize=true}}
          {{else}}
            <span class="new-resource-max">{{system.stamina.max}}</span>
          {{/if}}
          <span class="new-resource-label">{{localize 'UTOPIA.Actor.Stats.staShort'}}</span>
        </label>
      </div>

      <div class="new-resource large">
        <label class="new-resource-container" data-tooltip="{{localize 'UTOPIA.Actor.Stats.expLong'}}">
          {{formInput systemFields.experience.fields.value value=system.experience.value name="system.experience.value" localize=true}}
          {{#if (eq type 'npc')}}
            {{formInput systemFields.experience.fields.next value=system.experience.next name="system.experience.next" localize=true}}
          {{else}}
            <span class="new-resource-max">{{system.experience.next}}</span>
          {{/if}}
          <span class="new-resource-label">{{localize 'UTOPIA.Actor.Stats.expShort'}}</span>
        </label>
      </div>

      <div class="new-resource">
        <label class="new-resource-container" data-tooltip="{{localize 'UTOPIA.Actor.Stats.taLong'}}">
          {{formInput systemFields.actions.fields.turn.fields.value value=system.actions.turn.value name="system.actions.turn.value" localize=true}}
          {{#if (eq type 'npc')}}
            {{formInput systemFields.actions.fields.turn.fields.max value=system.actions.turn.max name="system.actions.turn.max" localize=true}}
          {{else}}
            <span class="new-resource-max">{{system.actions.turn.max}}</span>
          {{/if}}
          <span class="new-resource-label">{{localize 'UTOPIA.Actor.Stats.taShort'}}</span>
        </label>
      </div>

      <div class="new-resource">
        <label class="new-resource-container" data-tooltip="{{localize 'UTOPIA.Actor.Stats.iaLong'}}">
          {{formInput systemFields.actions.fields.interrupt.fields.value value=system.actions.interrupt.value name="system.actions.interrupt.value" localize=true}}
          {{#if (eq type 'npc')}}
            {{formInput systemFields.actions.fields.interrupt.fields.max value=system.actions.interrupt.max name="system.actions.interrupt.max" localize=true}}
          {{else}}
            <span class="new-resource-max">{{system.actions.interrupt.max}}</span>
          {{/if}}
          <span class="new-resource-label">{{localize 'UTOPIA.Actor.Stats.iaShort'}}</span>
        </label>
      </div>  

      <div class="new-resource">
        <button type="button" class="rest-button" data-action="rest">
          <i class="fas fa-alarm-clock"></i>
          <span>{{localize "UTOPIA.Actor.rest"}}</span>
        </button>
      </div>  

      {{#if (eq actor.type "character")}}
        <div class="new-resource">
          <button type="button" class="rest-button" data-action="builder">
            <i class="fas fa-edit"></i>
            <span>{{localize "UTOPIA.CharacterCreator.builder"}}</span>
          </button>
        </div>  
      {{else}}
        <div class="new-resource">
          <button type="button {{#if (eq automated true)}}active{{/if}}" class="rest-button" data-action="toggleAutomation">
            <i class="fas fa-edit"></i>
            <span>{{localize "UTOPIA.Actor.toggleAutomation"}}</span>
          </button>
        </div>  
      {{/if}}

    </div>
  </div>
</header>